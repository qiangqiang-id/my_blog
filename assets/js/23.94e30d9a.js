(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{554:function(t,r,n){"use strict";n.r(r);var s=n(5),a=Object(s.a)({},(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"如何理解tcp长连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何理解tcp长连接"}},[t._v("#")]),t._v(" 如何理解TCP长连接？")]),t._v(" "),n("h3",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),n("p",[t._v("首先我们知道，http 是基于 TCP连接 的基础上发送请求的，所谓的TCP连接的过程就是我们熟知面试常提的"),n("strong",[t._v("三次握手")]),t._v("。")]),t._v(" "),n("p",[t._v("在http1.1版本之前，浏览器的工作方式是每次TCP连接只能发送一个请求，当服务器响应后就会关闭这次连接，下一次请求需要再次建立TCP连接。")]),t._v(" "),n("p",[t._v("TCP新建连接的成本是很高的，需要服务端和客户端来回三次握手。随着网页的请求越来越多，浏览器的性能就会越来越差，用户体验也就会随之下降。")]),t._v(" "),n("h3",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),n("p",[t._v("为了解决三次握手的性能问题，在http1.1版本中，在建立一次TCP连接之后，可以设置当前这次连接的过期时间，也就是发送完请求，TCP连接并不会自动断开，在有效时间内可以重复使用这次连接发送请求。这就是所谓的长链接。")]),t._v(" "),n("p",[t._v("在"),n("strong",[t._v("chorem")]),t._v("浏览器中，可以并行同时开启"),n("strong",[t._v("六个")]),t._v("TCP连接，也就是可以并行发起6个请求，一个TCP连接只能在同一时间发起一个请求，下一个请求，需要等到当前这个请求完毕，再去请求。")]),t._v(" "),n("p",[t._v("打开调试工具中的network 这个connection ID 就是TCP连接的id号。")]),t._v(" "),n("p",[n("img",{attrs:{src:"/img/connection-id.png",alt:"connection-id"}})])])}),[],!1,null,null,null);r.default=a.exports}}]);