---
title: 如何理解TCP、UDP协议特点及两者区别？
date: 2022-6-20
categories:
  - 网络协议
tags: 网络
sidebar: 'auto'
---

## 网络模型

<img :src="$withBase('/img/network/协议模型.jpg')"  alt="协议模型" />

从图中可以看出，TCP 和 UDP 协议都是传输层协议。

## UDP 和 TCP 的区别

1. 最显著的一个特点就是 TCP 是面向连接的协议，UDP 是面向无连接的协议。
2. TCP 是面向字节流的，发送的时候是以流的形式，没头没尾的。UDP 则是继承了 IP 的特性，基于数据报的，一个一个的发，一个一个的收。
3. TCP 提供可靠交付，通过 TCP 连接传输的数据，无差错、不丢失、不重复、并且按序到达。UDP 则是继承了 IP 包的特性，不保证不丢失，不保证是否按序到达。
4. TCP 是有拥塞控制的。UDP 则无拥塞控制机制。
5. TCP 是有状态的服务，精确的记着发送了没有，接收了没有，发送到哪个了。UDP 是无状态服务。

## UDP

### UDP 三大特点

- 无连接：传输前不建立连接，发送方直接发数据报，减少开销，适用于对实时性要求高、准确性要求相对低的场景。
- 不可靠：不保证数据成功抵达、顺序及完整性 ，传输中可能丢包、重复或乱序。
- 面向数据报：以数据报为单位传输，保留数据报边界，应用层交多长数据报，就原样发送和接收。

### UDP 三大应用场景

- 实时音视频传输：像视频会议、网络直播、IP 电话这类场景，需要快速传递大量音视频数据，UDP 低延迟特性可保障内容实时、流畅呈现。
- 在线游戏：多人在线游戏要让玩家及时知晓游戏动态，UDP 快速传输优势能快速更新游戏状态；游戏内实时聊天对及时性要求高，UDP 也能满足，少量数据丢失不影响体验。
- 物联网设备：传感器网络、工业自动化场景中，大量设备需快速回传数据 ，UDP 可减少延迟、节省带宽，帮助智能家居传感器、工业生产线设备等及时传输数据。

## TCP

- keepAlive：建立 TCP 的长链接，没有请求的话，那就可以不会有请求包，但是开启了长链接就会有探活包。
- 通知 TCP 序号：建立 tcp 序号是为了解决包的乱序问题，因为 tcp 发包的时候，是分块发送的。因为网络环境问题，有的发送的快，有的发送的慢，循序可能就会被打乱。
